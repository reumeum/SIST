<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>submit</title>
    <script>
      window.onload = function () {
        //이벤트는 submit 버튼이 아니라 form에서 발생함
        const form = document.getElementById("register_form");

        function isValid(item, errorMessage) {
          if (item.value.trim() == "") {
            alert(errorMessage);
            item.value = "";
            item.focus();
            return false;
          }
        }

        //이벤트 연결
        form.onsubmit = function () {
          const name = document.getElementById("name");
          const id = document.getElementById("id");
          const password = document.getElementById("password");
          const zipcode = document.getElementById("zipcode");

          if (isValid(name, "이름을 입력하세요") == false) {
            return false;
          }
          if (isValid(id, "아이디를 입력하세요") == false) {
            return false;
          }
          if (isValid(password, "비밀번호를 입력하세요") == false) {
            return false;
          }

          if (zipcode.value.trim() == "" || zipcode.value.length != 5) {
            alert("우편번호는 다섯자리를 꼭 입력하세요");
            zipcode.value = "";
            zipcode.focus();
            return false;
          }
        };
      };
    </script>
  </head>
  <body>
    <form action="a.jsp" method="post" id="register_form">
      <fieldset>
        <legend>회원가입</legend>
        <ul>
          <li>
            <label for="name">이름</label>
            <input type="text" name="name" id="name" size="10" maxlength="10" />
          </li>
          <li>
            <label for="id">아이디</label>
            <input type="text" name="id" id="id" size="10" maxlength="10" />
          </li>
          <li>
            <label for="password">비밀번호</label>
            <input
              type="password"
              name="password"
              id="password"
              size="10"
              maxlength="10"
            />
          </li>
          <li>
            <label for="zipcode">우편번호</label>
            <input
              type="text"
              name="zipcode"
              id="zipcode"
              size="5"
              maxlength="5"
            />
          </li>
        </ul>
        <div align="center"><input type="submit" value="전송" /></div>
      </fieldset>
    </form>
  </body>
</html>
